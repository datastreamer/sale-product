<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<meta charset="UTF-8" />
	<title>Autocomplete Demos</title>
	<script src="../../../../scripts/jquery.js" type="text/javascript" class="view-source"></script>
	<script src="../../../../scripts/jquery.utils.js" type="text/javascript" class="view-source"></script>

	<script src="../../../../scripts/jquery_ui/jquery.ui.core.js" type="text/javascript"  class="view-source"></script>
	<script src="../../../../scripts/jquery_ui/jquery.ui.widget.js" type="text/javascript"  class="view-source"></script>
	<script src="../../../../scripts/jquery_ui/jquery.ui.position.js" type="text/javascript"  class="view-source"></script>
	
	<link  href="../../../../themes/default/ui.css" type="text/css" rel="stylesheet"  class="view-source"/>
	
	<!-- 换肤 -->
	<script type="text/javascript" src="../../../theme_cookie.js"></script>
		
	<script src="../jquery.ui.autocomplete.js" type="text/javascript" class="view-source"></script>
	<link  href="../autocomplete.css" type="text/css" rel="stylesheet"  class="view-source"/>
	
	<link type="text/css" href="../../../demos.css" rel="stylesheet" />
	<script src="../../../demos.js" type="text/javascript"></script>
	<script src="../../../../scripts/jquery_plugins/jquery.json.js" type="text/javascript"></script>

	<script class="view-source noparse">
		$( function(){
			$("#static_combo").comboBox({
				editable:true 
				/*,focusDrop:false*/
			});

			/*$('#asyn_combo').comboBox({
				source : 'remote',
				width  : 83,
	       		CommandName : 'sqlid:autocomplete.test',
	       		variableName : 'INPUT_VALUE',
	       		params : {
					daoBeanName:'dao',
	       		    catalogId : 'sale',
	       		    sqlId:'autocomplete.test'
	           	},
	           	change:function(){
					//alert(1234);
		        }
			});*/

			$('#getValue').click(function(){
				$('.value').removeClass('ui-helper-hidden').html( jQuery.json.encode($('#asyn_combo').comboBox().getValue()) ) ;
			}) ;

			$("#enable").click(function(){
				$("#static_combo").comboBox().enable();
			}) ;

			$("#disable").click(function(){
				$("#static_combo").comboBox().disable();
			}) ;

			$("#setValue").click(function(){
				$("#static_combo").comboBox().setValue("g");
			}) ;

			$("#reload").click(function(){
				$("#asyn_combo").comboBox().reload({CommandName:'sqlid:tag.field.test'}) ;
			}) ;
		} ) ;
	</script>
</head>

<body>
	<a href='javascript:' id='getValue'>getValue</a>
	
	<a href='javascript:' id=setValue>setValue</a>
	
	<a href='javascript:' id=enable>enable(静态数据)</a>
	
	<a href='javascript:' id=disable>disable(静态数据)</a>
	
	<a href='javascript:' id=reload>reload</a>
	
	<br/><br/>
		<div class='ui-state-highlight value ui-helper-hidden'></div>
	<br/><br/>
	<div style="padding-left:30px;">
	静态数据Combo:
     <select id="static_combo"  class="view-source">
		<option value="a">asp</option>
        <option value="c" selected>c</option>
        <option value="cpp">c++</option>
        <option value="cf">coldfusion eeeeeeeeeeee</option>
        <option value="g">groovy</option>
        <option value="h">haskell</option>
        <option value="j">java</option>
        <option value="js">javascript</option>
        <option value="p1">perl</option>
        <option value="p2">php</option>
        <option value="p3">python</option>
        <option value="r">ruby</option>
        <option value="s">scala</option>
	</select>
	<br/><br/><br/><br/>
	异步数据Combo:
	<select id="asyn_combo" style="width:100px;" class="view-source">
	</select>
	</div>
</body>
</html>
	
		<style>
			body{
				overflow:hidden;
				padding:0px;
			}
		</style>
		<script>
			(function(){
				window._setIFrameHeight = function(iframe,height){
				   if($.browser.msie&&($.browser.version==6.0)&&!$.support.style){
						//do nothing
				   }else{
						$(iframe).css("height",height+"px") ;
				   }
					window._agentAutoHeight() ;
				} ;
				
				function agentAutoHeight(){
					var bHeight = document.body.scrollHeight;
					var dHeight = document.documentElement.scrollHeight;
					var oHeight = document.body.offsetHeight;
					var b_height =Math.max(oHeight,Math.max(bHeight,dHeight))+50;
					
					var b_iframe = document.getElementById("crossdomain_agent_iframe");     
					var src = b_iframe.src.split("#")[0] ;
					b_iframe.src = src+"#"+b_height;
				}
				
				window._agentAutoHeight = agentAutoHeight ;
			
			
				if(window.location.href.indexOf("/agent.html")!=-1)
					return ;
			
				function getHost(){
					var host = window.location.host ;
					return host.split(":")[0] ;
				}
				
				var baseUrl = "http://"+getHost()+":8001/bingo-ui-web" ;
				var _crossdomain_agent_iframe_url = baseUrl+"/view/crossdomain/agent.html"  ;
				
				
				if(!window.$){
					document.write('<script src="'+baseUrl+"/statics/scripts/jquery.js"+'" onload="_loadjQuery()">\<\/script>') ;
					
					window._loadjQuery = function(){
						$(document.body).append('<iframe id="crossdomain_agent_iframe"  width="100%"  src="'+_crossdomain_agent_iframe_url+'" style="display:none"> ');
						agentAutoHeight() ;
						setTimeout(function(){
							agentAutoHeight() ;
						},500) ;
					}
				}else{
					$(document.body).append('<iframe id="crossdomain_agent_iframe"  width="100%"  src="'+_crossdomain_agent_iframe_url+'" style="display:none"> ');
					$(function(){
						agentAutoHeight() ;
						setTimeout(function(){
							agentAutoHeight() ;
						},500) ;
					}) ;
				}
			})() ;
		</script>
	
