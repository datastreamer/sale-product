<?xml version="1.0" encoding="UTF-8"?>
<properties>
    <entry key="sql_">
    </entry>
    
    <!--
    	TODO:
    	outAemricanArea: 1
    	inAemricanArea : 0
    	
    	当空时设置：
    	itemContidtionNull:1
    	
    	fulfillmentChannelNull:1
    	
    	isPriceQuery:1
    	isQuantityQuery:1
    	
    	pm:other ==>0
    	
    	uncategory：1
    -->
   
   <entry key="sql_cost_product_insert">
   	 INSERT INTO sc_product_cost 
			( 
			TYPE, 
			PURCHASE_COST, 
			ASIN,
			SKU, 
			BEFORE_LOGISTICS_COST, 
			TARIFF, 
			AMAZON_FEE, 
			VARIABLE_CLOSURE_COST, 
			OORDER_PROCESSING_FEE, 
			USPS_COST, 
			TAG_COST, 
			PACKAGE_COST, 
			STABLE_COST, 
			WAREHOURSE_COST, 
			LOST_FEE, 
			LABOR_COST, 
			SERVICE_COST, 
			OTHER_COST,
			TOTAL_COST
			)
			VALUES
			(
			'{@#TYPE#}', 
			'{@#PURCHASE_COST#}', 
			'{@#ASIN#}', 
			'{@#SKU#}', 
			'{@#BEFORE_LOGISTICS_COST#}', 
			'{@#TARIFF#}', 
			'{@#AMAZON_FEE#}', 
			'{@#VARIABLE_CLOSURE_COST#}', 
			'{@#OORDER_PROCESSING_FEE#}', 
			'{@#USPS_COST#}', 
			'{@#TAG_COST#}', 
			'{@#PACKAGE_COST#}', 
			'{@#STABLE_COST#}', 
			'{@#WAREHOURSE_COST#}', 
			'{@#LOST_FEE#}', 
			'{@#LABOR_COST#}', 
			'{@#SERVICE_COST#}', 
			'{@#OTHER_COST#}',
			'{@#TOTAL_COST#}'
			) 
   </entry>
   
   <entry key="sql_cost_product_update">
   	 UPDATE sc_product_cost 
		SET
		{@ TYPE = '#TYPE#',}
		{@ PURCHASE_COST = '#PURCHASE_COST#' , }
		{@ ASIN = '#ASIN#' , }
		{@ SKU = '#SKU#' , }
		{@ BEFORE_LOGISTICS_COST = '#BEFORE_LOGISTICS_COST#' , }
		{@ TARIFF = '#TARIFF#' , }
		{@ AMAZON_FEE = '#AMAZON_FEE#' , }
		{@ VARIABLE_CLOSURE_COST = '#VARIABLE_CLOSURE_COST#' , }
		{@ OORDER_PROCESSING_FEE = '#OORDER_PROCESSING_FEE#' , }
		{@ USPS_COST = '#USPS_COST#' , }
		{@ TAG_COST = '#TAG_COST#' , }
		{@ PACKAGE_COST = '#PACKAGE_COST#' , }
		{@ STABLE_COST = '#STABLE_COST#' , }
		{@ WAREHOURSE_COST = '#WAREHOURSE_COST#' , }
		{@ LOST_FEE = '#LOST_FEE#' , }
		{@ LABOR_COST = '#LABOR_COST#' , }
		{@ SERVICE_COST = '#SERVICE_COST#' , }
		{@ OTHER_COST = '#OTHER_COST#' ,}
		{@ TOTAL_COST = '#TOTAL_COST#' ,}
		ID = '{@#ID#}'
		WHERE
		ID = '{@#ID#}'
   </entry>
   
   <entry key="sql_cost_product_list">
   SELECT DISTINCT sc_product.*,sc_product_flow_details.DAY_PAGEVIEWS,
				sc_sale_competition.FM_NUM,sc_sale_competition.NM_NUM,sc_sale_competition.UM_NUM,
				sc_sale_fba.FBA_NUM,sc_sale_competition.TARGET_PRICE,
				sc_sale_potential.REVIEWS_NUM,sc_sale_potential.QUALITY_POINTS,
				(SELECT spi.local_url FROM sc_product_imgs spi WHERE spi.asin = sc_product.asin LIMIT 0,1 ) AS LOCAL_URL  
				FROM sc_product
				LEFT JOIN sc_sale_competition  ON sc_sale_competition.asin = sc_product.asin
				LEFT JOIN sc_sale_fba  ON sc_sale_fba.asin = sc_product.asin
				LEFT JOIN sc_sale_potential  ON sc_sale_potential.asin = sc_product.asin
                LEFT JOIN sc_product_flow_details  ON sc_product_flow_details.asin = sc_product.asin
                where 1=1
                {@ and sc_product.title like '%#title#%'}
                {@ and sc_product.asin = '#asin#'}
                {@ and sc_product.asin in ( select sc_product_filter_details.asin 
                	from sc_product_filter_details where sc_product_filter_details.status in (5,7)  )
                  and 1=#unAsin#
                }
   </entry>
   
    <entry key="sql_cost_product_details_list">
 				 SELECT * from sc_product_cost
                where 1=1
                {@ and sc_product_cost.asin = '#asin#'}
                {@ 
                	and( 
                	sc_product_cost.sku = '#realSku#'
                	or
                	sc_product_cost.asin in (
                		select sp.asin from sc_real_product_rel sr,
                		sc_amazon_account_product sp
                		 where
                		   sr.sku = sp.sku and
                		  sr.real_sku = '#realSku#'
                	)
                	 or sc_product_cost.asin in (
		    	 		select spd.asin 
		    	 		from sc_real_product srp,
		    	 		sc_product_dev spd
		    	 		 where 
		    	 		 srp.id = spd.real_product_id
		    	 		 and srp.real_sku = '{@#realSku#}'
		    	 )
                	)
                }
   </entry>

   
</properties>