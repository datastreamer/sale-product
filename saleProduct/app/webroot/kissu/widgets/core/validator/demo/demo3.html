<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="zh-CN" />
<title>表单验证－支持自定义函数校验</title>
<link href="../../../../themes/default/ui.css" type="text/css" rel="stylesheet" class="view-source"/>
<script type="text/javascript" src="../../../theme_cookie.js" class="view-source"></script>
<script src="../../../../scripts/jquery.js" type="text/javascript" class="view-source"></script>
<script src="../../../../scripts/jquery.utils.js" type="text/javascript" class="view-source"></script>
<link type="text/css" rel="stylesheet" href="../tipsy.css"  class="view-source"/>
<script src="../../validator/jquery.validation.js" type="text/javascript" class="view-source"></script>

<link type="text/css" href="../../../demos.css" rel="stylesheet" />
<script src="../../../demos.js" type="text/javascript"></script>
	
<script class="view-source noparse">
	$(document).ready(function() {
		$("#personForm").validation()
	});

	function myLength(caller) {
		var length = $(caller).val().length;
		if (length<5||length>10) {
			return {isError:true,errorInfo:"备注文字的长度必须介于5到10之间"}
		} else {
			return {isError:false,errorInfo:""}
		}
	}
</script>
</head>
<body>
<form id="personForm" action="#" class="view-source noparse">
<!-- 表单信息 -->
<table width="100%" cellpadding="0" cellspacing="1" border="0" id="tbody_1" style="border: 1px solid #A8CFEB">
	<tr>
		<th>姓名：</th>
		<td>
			<input type="text" id="name" validator="required,length[6,10]" />
		</td>
		<th>性别：</th>
		<td>
			<input id="contractType1" name="contractType" type="radio" validator="required" />男&nbsp;&nbsp; 
			<input id="contractType2" name="contractType" type="radio" validator="required" />女
		</td>
	</tr>
	<tr>
		<th>年龄：</th>
		<td>
			<input type="text" id="agreement" validator="pattern[integer],range[1,100]" />
		</td>
		<th>籍贯：</th>
		<td>
			<select id="city" validator="required">
				<option></option>
				<option>北京</option>
				<option>河北</option>
				<option>上海</option>
				<option>天津</option>
				<option>广东</option>
				<option>湖北</option>
				<option>湖南</option>
				<option>广西</option>
				<option>四川</option>
				<option>重庆</option>
			</select>
		</td>
	</tr>
	<tr>
		<th>出生日期：</th>
		<td>
			<input type="text" id="birthday" validator="date" />
		</td>
		<th>电子邮件：</th>
		<td>
			<input type="text" id="email" validator="required,pattern[email]" />
		</td>
	</tr>
	<tr>
		<th>密码：</th>
		<td>
			<input type="password" id="password" validator="equalToField[repassword]" />
		</td>
		<th>密码(确认)：</th>
		<td>
			<input type="password" id="repassword" validator="equalToField[password]" />
		</td>
	</tr>
	<tr>
		<th>兴趣爱好：</th>
		<td colspan="3">
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest1">篮球</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">爬山</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">听歌</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">读书</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">旅游</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">象棋</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">围棋</input> 
			<input type="checkbox" name="interest" validator="range[2,4]" id="interest2">游戏</input>
		</td>
	</tr>
	<tr>
		<th>备注：</th>
		<td colspan="3">
			<textarea id="remark" validator="required,func[myLength]"></textarea>
		</td>
	</tr>
</table>
	<input type="submit" value="提交"/>
</form>
</body>
</html>
	
		<style>
			body{
				overflow:hidden;
				padding:0px;
			}
		</style>
		<script>
			(function(){
				window._setIFrameHeight = function(iframe,height){
				   if($.browser.msie&&($.browser.version==6.0)&&!$.support.style){
						//do nothing
				   }else{
						$(iframe).css("height",height+"px") ;
				   }
					window._agentAutoHeight() ;
				} ;
				
				function agentAutoHeight(){
					var bHeight = document.body.scrollHeight;
					var dHeight = document.documentElement.scrollHeight;
					var oHeight = document.body.offsetHeight;
					var b_height =Math.max(oHeight,Math.max(bHeight,dHeight))+50;
					
					var b_iframe = document.getElementById("crossdomain_agent_iframe");     
					var src = b_iframe.src.split("#")[0] ;
					b_iframe.src = src+"#"+b_height;
				}
				
				window._agentAutoHeight = agentAutoHeight ;
			
			
				if(window.location.href.indexOf("/agent.html")!=-1)
					return ;
			
				function getHost(){
					var host = window.location.host ;
					return host.split(":")[0] ;
				}
				
				var baseUrl = "http://"+getHost()+":8001/bingo-ui-web" ;
				var _crossdomain_agent_iframe_url = baseUrl+"/view/crossdomain/agent.html"  ;
				
				
				if(!window.$){
					document.write('<script src="'+baseUrl+"/statics/scripts/jquery.js"+'" onload="_loadjQuery()">\<\/script>') ;
					
					window._loadjQuery = function(){
						$(document.body).append('<iframe id="crossdomain_agent_iframe"  width="100%"  src="'+_crossdomain_agent_iframe_url+'" style="display:none"> ');
						agentAutoHeight() ;
						setTimeout(function(){
							agentAutoHeight() ;
						},500) ;
					}
				}else{
					$(document.body).append('<iframe id="crossdomain_agent_iframe"  width="100%"  src="'+_crossdomain_agent_iframe_url+'" style="display:none"> ');
					$(function(){
						agentAutoHeight() ;
						setTimeout(function(){
							agentAutoHeight() ;
						},500) ;
					}) ;
				}
			})() ;
		</script>
	
